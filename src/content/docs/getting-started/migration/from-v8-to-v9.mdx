import { Steps, Tabs } from 'nextra/components'

## Migrating from 8.x to 9.x
In 9.x, we've upgraded to Tailwind CSS v4.x. This upgrade includes several breaking changes.

<Steps>
### Move all theme tokens from `tailwind.config.js` to `index.css`

Please follow the guide depending on the number of themes you have in your project.

<Tabs items={['Single Theme', 'Multiple Themes']}>
  <Tabs.Tab>
    Migrate from this `tailwind.config.js`:
      ```tsx
      const config: Config = {
        theme: {
          extend: {
            colors: {
              primary: {
                DEFAULT: colorPalette.blue[500],
                active: colorPalette.blue[500],
                hover: colorPalette.blue[600],
                inactive: colorPalette.gray[500]
              },

              ... other tokens
            }    
          }
        }
      }
      ```

    Migrate to this `index.css`:
      ```css
      @theme {
        --color-primary: var(--color-blue-500);
        --color-primary-active: var(--color-blue-500);
        --color-primary-hover: var(--color-blue-400);
        --color-primary-inactive: var(--color-blue-200);
        
        ... other tokens
      }
      ```
  </Tabs.Tab>

  <Tabs.Tab>
    Migrate from this `tailwind.config.js`:
    ```tsx
    import { createThemes } from 'tw-colors';

    const config: Config = {
      plugins: [
        createThemes({
          dark: {
            primary: {
              DEFAULT: colorPalette.blue[500],
              active: colorPalette.blue[500],
              hover: colorPalette.blue[600],
              inactive: colorPalette.gray[500]
            },
          },
          light: {
            primary: {
              DEFAULT: colorPalette.red[500],
              active: colorPalette.red[500],
              hover: colorPalette.red[400],
              inactive: colorPalette.gray[200]
            },
          }
        })
      ]
    }
    ```

    Migrate to this `index.css`:
    ```css
    :root,
    :host {
      --reablocks-theme: dark;

      /* Primary colors for default (dark) theme */
      --primary: var(--color-blue-500);
      --primary-active: var(--color-blue-500);
      --primary-hover: var(--color-blue-400);
      --primary-inactive: var(--color-blue-200);

      &.theme-light,
      &[data-theme='light'] {
        --reablocks-theme: light;

        /* Primary colors for light theme */
        --primary: var(--color-red-500);
        --primary-active: var(--color-red-500);
        --primary-hover: var(--color-red-400);
        --primary-inactive: var(--color-gray-200);
      }
    }

    @theme inline {
      --color-primary: var(--primary);
      --color-primary-active: var(--primary-active);
      --color-primary-hover: var(--primary-hover);
      --color-primary-inactive: var(--primary-inactive);
    }
    ```
  </Tabs.Tab>
</Tabs>

### Migrate Tailwind CSS plugins to `index.css`

There is a need to support custom variants used in the previous version via plugins.
If you are using some custom Tailwind CSS plugins, you need to add custom variants to `index.css` to cover the plugins functionality.
```css
/* Custom variants */
@custom-variant dark (&:where(.theme-dark, .theme-dark *, [data-theme=dark], [data-theme=dark] *));
@custom-variant light (&:where(.theme-light, .theme-light *, [data-theme=light], [data-theme=light] *));
@custom-variant disabled-within (&:has(input:is(:disabled), textarea:is(:disabled), button:is(:disabled)));
```

### Add prefix `theme-` to your theme names in class names.

In the previous version, the theme name was used directly as a class name `dark`, `light`, etc.
In the new version, the theme name is prefixed with `theme-` to correctly parsing theme variables.

Here is sample how to define theme name in html tag
```html
<html class="theme-dark">
  ... content ...
</html>
```
or 
```html
<html data-theme="dark">
  ... content ...
</html>
```

### Run command to migrate Tailwind CSS class names in your project
This command will migrate all class names to the new format. To review changes you can move to official [Tailwind CSS upgrade guide](https://tailwindcss.com/docs/upgrade-guide).
```shell
npx @tailwindcss/upgrade
```
### Update postcss config
Please update your `postcss.config.mjs` file to use `tailwindcss` plugin.
```js
export default {
  plugins: {
    '@tailwindcss/postcss': {},
  },
};
```

### Add tailwindcss plugin to Vite config (if you are using Vite)
```js
import { defineConfig } from "vite";
import tailwindcss from '@tailwindcss/vite';

export default defineConfig({
  plugins: [
    tailwindcss(),
  ],
});
```

</Steps>
